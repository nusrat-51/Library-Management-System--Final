@model LibraryManagementSystem.Auth_IdentityModel.IdentityModel.User

@{
    ViewData["Title"] = "Settings";
    ViewData["ActivePage"] = "Settings";
}

<h3 class="mb-4">Settings</h3>

<div class="row g-3">

    <!-- 🔐 Change Password -->
    <div class="col-md-6">
        <div class="card p-4 shadow-sm h-100">
            <h5 class="mb-2">
                <i class="bi bi-key me-2"></i> Change Password
            </h5>
            <p class="text-muted">
                Update your account password securely.
            </p>

            <a asp-controller="Account"
               asp-action="ChangePassword"
               class="btn btn-primary btn-sm">
                Change Password
            </a>
        </div>
    </div>

    <!-- 🔔 Notifications -->
    <div class="col-md-6">
        <div class="card p-4 shadow-sm h-100">
            <h5 class="mb-2">
                <i class="bi bi-bell me-2"></i> Notifications
            </h5>
            <p class="text-muted">
                Enable or disable system notifications.
            </p>

            <form asp-controller="Account"
                  asp-action="UpdateNotifications"
                  method="post">
                @Html.AntiForgeryToken()

                <div class="form-check form-switch">
                    <input class="form-check-input"
                           type="checkbox"
                           id="notifySwitch"
                           name="enabled"
                           value="true"
                           @(Model != null ? "checked" : "") />

                    <label class="form-check-label" for="notifySwitch">
                        Enable Notifications
                    </label>
                </div>

                <button type="submit" class="btn btn-outline-primary btn-sm mt-3">
                    Save
                </button>
            </form>

            @if (TempData["Success"] != null)
            {
                <div class="alert alert-success mt-3 mb-0">
                    @TempData["Success"]
                </div>
            }
        </div>
    </div>

</div>
